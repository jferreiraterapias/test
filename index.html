<!doctype html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Joana Ferreira — Massagem terapêutica</title>
  <meta name="description" content="Massagem profissional em Santarém — relaxamento, DLM, massagem desportiva e deslocações. Marque com Joana Ferreira." />
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    .hero-bg{ background-size: cover; background-position: center; transition: background-image 0.8s ease-in-out; }
    .slide-indicators button{ width:10px; height:10px; border-radius:50%; border:none; margin:0 6px; }
  </style>
</head>
<body class="antialiased text-gray-800">

  <header class="bg-white shadow-sm sticky top-0 z-30">
    <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
      <a href="#hero" class="flex items-center gap-3">
        <img src="assets/logo.avif" alt="logo" class="w-10 h-10 rounded-full object-contain mx-auto">
        <div>
          <h1 class="text-lg font-semibold">Joana Ferreira</h1>
          <p class="text-xs text-gray-500" data-lang="pt">Massagista • Santarém</p>
          <p class="text-xs text-gray-500" data-lang="en">Massage Therapist • Santarém</p>
        </div>
      </a>
      <div class="flex items-center gap-4">
        <nav class="hidden md:flex items-center gap-4">
          <a href="#services" class="text-sm hover:underline" data-lang="pt">Serviços</a>
          <a href="#services" class="text-sm hover:underline" data-lang="en">Services</a>
          <a href="#about" class="text-sm hover:underline" data-lang="pt">Sobre</a>
          <a href="#about" class="text-sm hover:underline" data-lang="en">About</a>
          <a href="#book" class="text-sm hover:underline" data-lang="pt">Marcar</a>
          <a href="#book" class="text-sm hover:underline" data-lang="en">Book</a>
        </nav>
        <div class="flex items-center gap-2">
          <div class="flex items-center gap-4">
  <button class="bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded" id="bookingSubmit">
    <span data-lang="pt">Enviar pedido</span>
    <span data-lang="en">Send request</span>
  </button>
  <div class="text-sm">
    <span data-lang="pt">ou contacte via <a href="https://wa.me/351913230273" target="_blank" class="text-green-600 underline">WhatsApp</a></span>
    <span data-lang="en">or contact via <a href="https://wa.me/351913230273" target="_blank" class="text-green-600 underline">WhatsApp</a></span>
  </div>
</div>            <p class="text-sm text-gray-600">ou ligue / or call <strong>+351 913 230 273</strong></p>
          </div>
        </form>
      </div>
      <div>
        
<div class="w-full h-full flex items-center justify-center">
  <div id="book-slider" class="relative overflow-hidden"
    <img src="assets/massage1.jpg" class="book-slide absolute inset-0 mx-auto" style="max-height:520px; width:auto; object-fit:contain;" style="opacity:1;transition:opacity .6s;">
    <img src="assets/massage1.jpg" class="book-slide absolute inset-0 mx-auto" style="max-height:520px; width:auto; object-fit:contain;">
    <img src="assets/massage2.jpg" class="book-slide absolute inset-0 mx-auto" style="max-height:520px; width:auto; object-fit:contain;">
    <img src="assets/massage3.jpg" class="book-slide absolute inset-0 mx-auto" style="max-height:520px; width:auto; object-fit:contain;">
</div>
</div>

      </div>
    </div>
  </div>
</section>

    <section id="contact" class="py-12 bg-gray-50">
      <div class="max-w-5xl mx-auto px-6 grid md:grid-cols-2 gap-8">
        <div>
          <h3 class="text-2xl font-semibold" data-lang="pt">Contacto</h3>
          <h3 class="text-2xl font-semibold" data-lang="en">Contact</h3>
          <p class="mt-3 text-gray-700" data-lang="pt">Email: <a href="mailto:joana.ferreira.terapeuta@gmail.com" class="underline">joana.ferreira.terapeuta@gmail.com</a><br/>Telefone: <strong>+351 913 230 273</strong><br/>Local: Santarém</p>
          <p class="mt-3 text-gray-700" data-lang="en">Email: <a href="mailto:joana.ferreira.terapeuta@gmail.com" class="underline">joana.ferreira.terapeuta@gmail.com</a><br/>Phone: <strong>+351 913 230 273</strong><br/>Location: Santarém</p>
        </div>
        <div>
          <div class="w-full h-48 bg-gray-200 flex items-center justify-center text-gray-600">Map placeholder</div>
        </div>
      </div>
    </section>

    <footer class="py-8 bg-white border-t">
      <div class="max-w-6xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between gap-4">
        <p class="text-sm text-gray-600">© <span id="year"></span> Joana Ferreira. All rights reserved.</p>
        <div class="flex items-center gap-3 text-sm text-gray-600">
          <a href="#" class="hover:underline">Privacy</a>
          <a href="#" class="hover:underline">Terms</a>
        </div>
      </div>
    </footer>
  </main>

  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Language toggle
    function showLang(lang){
      document.documentElement.lang = (lang === 'en') ? 'en' : 'pt';
      document.querySelectorAll('[data-lang]').forEach(el => {
        el.style.display = (el.getAttribute('data-lang') === lang) ? '' : 'none';
      });
    }
    document.getElementById('langPt').addEventListener('click', ()=> showLang('pt'));
    document.getElementById('langEn').addEventListener('click', ()=> showLang('en'));
    showLang('pt');

    // Booking form default handler (keeps mailto fallback until Formspree endpoint added)
    
    document.getElementById('bookingForm').addEventListener('submit', async function(e){
      e.preventDefault();
      const form = e.target;
      const btn = document.getElementById('bookingSubmit') || form.querySelector('button[type="submit"]');
      const data = {};
      data.name = form.name.value || '';
      data.phone = form.phone.value || '';
      data.email = form.email.value || '';
      data.service = form.service.value || '';
      data.date = form.date.value || '';
      data.notes = form.notes.value || '';
      const fd = new FormData();
      Object.entries(data).forEach(function(pair){ fd.append(pair[0], pair[1]); });
      fd.append('_replyto', data.email || 'no-reply@example.com');
      fd.append('_subject', 'Pedido de marcação / Booking request — ' + (data.name || 'Novo cliente'));

      if(btn){ btn.disabled = true; btn.style.opacity = 0.6; }

      try{
        const resp = await fetch('https://formspree.io/f/mwpgqqzg', { method: 'POST', body: fd, headers: { 'Accept': 'application/json' } });
        if(resp.ok){
          alert('Pedido enviado. Joana vai receber o seu pedido. / Request sent — Joana will receive your request.');
          form.reset();
        } else {
          const json = await resp.json().catch(function(){return null;});
          console.error('Formspree error', json);
          alert('Erro ao enviar. Por favor tente novamente mais tarde. / Sending error, please try again.');
        }
      } catch(err){
        console.error(err);
        alert('Erro de rede. Por favor verifique a ligação e tente de novo. / Network error.');
      } finally {
        if(btn){ btn.disabled = false; btn.style.opacity = 1; }
      }
    });
    // Hero slider logic: images in assets. Change every 5s, buttons to select.
    
const slides = ['assets/massage1.jpg','assets/massage2.jpg','assets/massage3.jpg'];
let current = 0;
const hero = document.getElementById('hero');
const indicators = document.querySelectorAll('.slide-indicators button');

// Slide switching function
function showSlide(i){
  current = i % slides.length;
  hero.style.backgroundImage = "url('" + slides[current] + "')";
  indicators.forEach((b, idx)=> b.style.background = idx===current ? '#fff' : 'rgba(255,255,255,0.6)');
}

// --- Auto-rotation with pause on hover ---
let slideInterval = setInterval(nextSlide, 5000);

function nextSlide(){
  showSlide((current + 1) % slides.length);
}

// Pause on hover
hero.addEventListener('mouseenter', () => {
  clearInterval(slideInterval);
});

hero.addEventListener('mouseleave', () => {
  slideInterval = setInterval(nextSlide, 5000);
});

// Attach indicator clicks (manual control)
indicators.forEach(b =>
  b.addEventListener('click', ()=> showSlide(Number(b.dataset.index)))
);
</script>
<script>
/* Book section slider logic (rebuilt) */
(function(){
  const bSlides = Array.from(document.querySelectorAll('#book-slider .book-slide'));
  if(bSlides.length === 0) return;
  let bCurrent = 0;
  function showBook(i){ bSlides.forEach((img, idx) => img.style.opacity = idx===i ? '1' : '0'); }
  function nextBook(){ bCurrent = (bCurrent+1) % bSlides.length; showBook(bCurrent); }
  let bInterval = setInterval(nextBook, 4000);
  const bSlider = document.getElementById('book-slider');
  bSlider.addEventListener('mouseenter', ()=> clearInterval(bInterval));
  bSlider.addEventListener('mouseleave', ()=> { bInterval = setInterval(nextBook, 4000); });
  showBook(0);
})();
</script>

<script>
(function(){
  function applyLang(lang) {
    document.querySelectorAll('[data-lang]').forEach(function(el){
      el.style.display = (el.getAttribute('data-lang') === lang) ? '' : 'none';
    });
  }
  var btnPt = document.getElementById('langPt');
  var btnEn = document.getElementById('langEn');
  if (btnPt) btnPt.addEventListener('click', function(){ applyLang('pt'); localStorage.setItem('site_lang','pt'); });
  if (btnEn) btnEn.addEventListener('click', function(){ applyLang('en'); localStorage.setItem('site_lang','en'); });
  var saved = localStorage.getItem('site_lang') || 'pt';
  document.addEventListener('DOMContentLoaded', function(){ applyLang(saved); });
  applyLang(saved);
})();
</script>

</body>
</html>
